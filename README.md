<div align="center">
<img width="1200" height="475" alt="GHBanner" src="https://github.com/user-attachments/assets/0aa67016-6eaf-458a-adb2-6e31a0763ed6" />
</div>

# Run and deploy your AI Studio app

This contains everything you need to run your app locally.

View your app in AI Studio: https://ai.studio/apps/drive/1AABT77acdyxnOAjUKSoqQ00T69wuZLej

## Run Locally

**Prerequisites:**  Node.js


1. Install dependencies:
   `npm install`
2. Set the `GEMINI_API_KEY` in [.env.local](.env.local) to your Gemini API key
3. Run the app:
   `npm run dev`

## 📋 **הוראות עדכון Google Apps Script**

### ❗ **בעיה: תלמידים לא מקבלים עדכון ניקוד**

הבעיה היא שאפליקציית הגמרתון שולחת שמות בפורמט אחד (למשל: "ארבל אליה")
אבל בגוגל שיטס השמות מאוחסנים בפורמט אחר (למשל: "אליה ארבל").

### ✅ **הפתרון: החלף את קוד ה-Google Apps Script**

#### **שלב 1: צור פרויקט חדש ב-Google Apps Script**
1. גש ל-[script.google.com](https://script.google.com)
2. לחץ **"New Project"**
3. תן שם לפרויקט: `גמרתון ישיבה`

#### **שלב 2: העתק את הקוד החדש**
1. פתח את הקובץ `GoogleAppsScript.js` בפרויקט הזה
2. **העתק את כל הקוד**
3. **הדבק אותו** בפרויקט ה-GAS החדש
4. **שמור** את הפרויקט

#### **שלב 3: פרסם כ-Web App**
1. לחץ **"Deploy"** → **"New deployment"**
2. בחר **"Web app"**
3. **Execute as**: `Me`
4. **Who has access**: `Anyone`
5. לחץ **"Deploy"**
6. **העתק את ה-URL** שמופיע

#### **שלב 4: עדכן את האפליקציה**
1. פתח את הקובץ `constants.ts`
2. החלף את השורה:
   ```typescript
   export const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/...";
   ```
   עם ה-URL החדש שקיבלת

#### **שלב 5: בדוק שזה עובד**
1. רענן את האפליקציה
2. נסה לעדכן ניקוד לתלמיד
3. בדוק ב-DevTools (F12) שזה מצליח

### 🎯 **מה הקוד החדש עושה:**
- ✅ **חיפוש חכם של שמות**: מנסה את השם כמו שהוא, ואז הופך שם פרטי/משפחה
- ✅ **גמישות בכותרות**: מזהה עמודות "שם", "ניקוד", "ציון"
- ✅ **דיבוג מלא**: מציג איזה שמות ניסה ואיזה שמות קיימים
- ✅ **לוגים בעברית**: קל יותר להבין מה קורה

### 🔍 **אם עדיין לא עובד:**
1. פתח את [script.google.com](https://script.google.com)
2. פתח את הפרויקט שלך
3. לחץ **"Executions"** בצד שמאל
4. בדוק את הלוגים האחרונים
5. חפש הודעות שגיאה או אזהרה

### 📊 **מבנה הגיליון הנדרש:**
- **כל כיתה בגיליון נפרד**: "יא", "יב", "יג" וכו'
- **השמות מתחילים משורה 4 בעמודה B**
- **הניקוד מתחיל משורה 4 בעמודה C**
- **בונוס כיתתי**: שורה 2, עמודה D - בונוס נקודות נוסף לכיתה (לא מחושב כניקוד פרטני)
- **השמות יכולים להיות** בפורמט "שם פרטי שם משפחה" או "שם משפחה שם פרטי"
- **הקוד יתמודד** עם שני הפורמטים אוטומטית

#### **דוגמה למבנה הגיליון:**
```
שורה 1: [כותרות או ריק]
שורה 2: [כותרות או ריק] | [ריק] | [ריק] | [בונוס כיתתי - אופציונלי]
שורה 3: [כותרות או ריק]
שורה 4: [ריק] | [שם התלמיד הראשון] | [ניקוד התלמיד הראשון] | [ריק]
שורה 5: [ריק] | [שם התלמיד השני]   | [ניקוד התלמיד השני] | [ריק]
... וכן הלאה
```

**הערה על בונוס כיתתי:**
- הבונוס הכיתתי נשמר בעמודה D, שורה 2
- הבונוס מתווסף לניקוד הכיתתי הכולל (סכום כל הניקודים הפרטניים + בונוס)
- ניתן לעדכן את הבונוס הכיתתי דרך ממשק הניהול (טאב "בונוס כיתתי")